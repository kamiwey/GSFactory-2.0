/* Doble cortina L→R con logo central */
:root {
  /* tiempos (puedes ajustar) */
  --pt-in: 420ms; /* entra desde la izquierda */
  --pt-hold: 260ms; /* pausa con logo */
  --pt-out: 520ms; /* sale hacia la derecha */
  --pt-ease: cubic-bezier(0.22, 0.61, 0.36, 1);

  /* colores (toman de globals si existen) */
  --pt-bg: var(--color-bg, #0a0a0a);
  --pt-fg: var(--color-fg, #ffffff);
}

.pt {
  position: fixed;
  inset: 0;
  z-index: 9999;
  pointer-events: none;
  contain: layout paint;
  overflow: hidden;
}

.pt.is-active {
  pointer-events: all;
} /* bloquea clicks mientras anima */

/* TRACK: 2 paneles de 50% que recorren la pantalla de L→R */
.pt__track {
  position: absolute;
  inset: 0;
  display: flex;
  width: 100%;
  height: 100%;
  transform: translateX(-100%); /* empieza fuera por la izquierda */
  will-change: transform;
}

.pt__panel {
  width: 50%;
  height: 100%;
  background: var(--pt-bg);
}

/* LOGO */
.pt__logo {
  position: absolute;
  inset: 0;
  display: grid;
  place-items: center;
  opacity: 0;
  transform: scale(0.96);
  color: var(--pt-fg);
  will-change: opacity, transform;
}

/* Estados activos: una sola animación compuesta en el track + logo */
.pt.is-active .pt__track {
  animation: pt-sweep calc(var(--pt-in) + var(--pt-hold) + var(--pt-out))
    var(--pt-ease) 0s 1 both;
}
.pt.is-active .pt__logo {
  animation: pt-logo-in calc(var(--pt-in) * 0.85) var(--pt-ease)
      calc(var(--pt-in) * 0.35) 1 forwards,
    pt-logo-out calc(var(--pt-out) * 0.8) var(--pt-ease)
      calc(var(--pt-in) + var(--pt-hold)) 1 forwards;
}

/* 0%: fuera a la izquierda; 40%: pantalla cubierta; 60%: aún cubierta; 100%: fuera a la derecha */
@keyframes pt-sweep {
  0% {
    transform: translateX(-100%);
  }
  40% {
    transform: translateX(0%);
  }
  60% {
    transform: translateX(0%);
  }
  100% {
    transform: translateX(100%);
  }
}

@keyframes pt-logo-in {
  from {
    opacity: 0;
    transform: scale(0.96);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}
@keyframes pt-logo-out {
  from {
    opacity: 1;
    transform: scale(1);
  }
  to {
    opacity: 0;
    transform: scale(1.04);
  }
}

/* Fallback tipográfico si no hay imagen */
.pt__g {
  font-family: var(--font-display, system-ui);
  font-weight: 800;
  letter-spacing: -0.04em;
  font-size: clamp(80px, 18vw, 300px);
  line-height: 1;
}
.pt__img {
  max-width: min(70vw, 900px);
  max-height: min(70vh, 900px);
  display: block;
}

/* Respeto a accesibilidad */
@media (prefers-reduced-motion: reduce) {
  .pt.is-active .pt__track,
  .pt.is-active .pt__logo {
    animation: none !important;
  }
}
